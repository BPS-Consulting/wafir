---
const base = import.meta.env.BASE_URL;
const currentYear = new Date().getFullYear();
---

<footer class="bg-bg-elevated border-t border-border pt-12 pb-6 mt-auto">
  <div class="max-w-[1200px] mx-auto px-6">
    <div class="flex justify-between gap-12 mb-8 max-md:flex-col max-md:gap-8">
      <div class="max-w-[280px]">
        <a href={base} class="flex items-center gap-2 font-bold text-lg mb-3">
          <svg
            width="24"
            height="24"
            viewBox="0 0 32 32"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect width="32" height="32" rx="8" fill="#6366f1"></rect>
            <path
              d="M10 12L16 8L22 12V20L16 24L10 20V12Z"
              stroke="white"
              stroke-width="2"
              stroke-linejoin="round"></path>
            <circle cx="16" cy="16" r="3" fill="white"></circle>
          </svg>
          <span>Wafir</span>
        </a>
        <p class="text-text-muted text-sm">
          Feedback & bug reporting, made simple.
        </p>
      </div>

      <div class="flex gap-16 max-md:gap-8">
        <div class="flex flex-col gap-3">
          <h4 class="text-sm font-semibold mb-1">Product</h4>
          <a
            href={`${base}/installation`}
            class="text-text-muted text-sm transition-colors duration-200 hover:text-text"
            >Installation</a
          >
          <a
            href={`${base}/documentation`}
            class="text-text-muted text-sm transition-colors duration-200 hover:text-text"
            >Documentation</a
          >
        </div>
        <div class="flex flex-col gap-3">
          <h4 class="text-sm font-semibold mb-1">Resources</h4>
          <a
            href="https://github.com/BPS-Consulting/wafir"
            target="_blank"
            rel="noopener"
            class="text-text-muted text-sm transition-colors duration-200 hover:text-text"
            >GitHub</a
          >
          <a
            href="https://github.com/BPS-Consulting/wafir/issues"
            target="_blank"
            rel="noopener"
            class="text-text-muted text-sm transition-colors duration-200 hover:text-text"
            >Issues</a
          >
        </div>
      </div>
    </div>

    <div
      class="flex justify-between items-center pt-6 border-t border-border max-md:flex-col max-md:gap-4 max-md:text-center"
    >
      <p class="text-text-muted text-sm">
        &copy; {currentYear} BPS Consulting. Open source under the GNU AGPLv3 License.
      </p>
      <div>
        <img
          src="https://img.shields.io/badge/license-AGPLv3-blue?style=flat-square" 
          alt="AGPLv3 License"
          loading="lazy"
          class="h-5"
        />
      </div>
    </div>

    <!-- Wafir Feedback Widget -->
    <wafir-reporter
      installationId="105081464"
      owner="BPS-Consulting"
      repo="wafir"
      position="bottom-right"
      tooltip-text="Send Feedback"
    ></wafir-reporter>
  </div>
</footer>
